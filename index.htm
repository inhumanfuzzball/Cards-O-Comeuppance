<!DOCTYPE html>
<html lang="en">
<head>
	<title>Cards o' Comeuppance</title>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.34.7/css/bootstrap-dialog.min.css" />
	<!-- c3 -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css" rel="stylesheet" />
	<!-- Main CSS -->
	<link rel="stylesheet" href="css/cu.css">
	<link rel="stylesheet" href="css/trophies.css">
	<!-- Fonts -->
	<!-- font collection: https://www.google.com/fonts#UsePlace:use/Collection:Black+Ops+One|Audiowide|Slabo+27px|Lobster|Patrick+Hand|Gochi+Hand -->
	<link href='https://fonts.googleapis.com/css?family=Black+Ops+One|Audiowide|Slabo+27px|Lobster|Patrick+Hand|Gochi+Hand' rel='stylesheet' type='text/css'>
</head>
<body>
	<!-- Navigation bar -->
	<nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        <a class="navbar-brand" href="javascript:getMatches();">Cards o' Comeuppance</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
				<li data-toggle="collapse" data-target=".navbar-collapse" class="active"><a href="javascript:getMatches();">Matches</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:addGame();">New</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:showTrophies();">Trophies</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:showCharts();">Charts</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:refresh();">Refresh</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
	
	<!-- Loading area -->
	<div class="loading">
		<div class="large-loader"></div>
	</div>

	<div id="kilroyShare"></div>
	<div id="kilroyShaft"></div>
	<div id="kamara"></div>
	
	<div class="container-fluid" id="match-view">
		
		<div class="jumbotron">
			<h1><span id="scoresHeader">All Time</span></h1>
			<table class="table">
				<thead>
					<tr>
						<td class="rowScore"><h2>Sansom</h2></td>
						<td class="rowDescription"></td>
						<td class="rowScore"><h2>Cooper</td></h2>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="rowScore"><h2><span id="sansomMatches">0</span></h2></td>
						<td class="rowDescription"><h4>Matches<br/><span id="totalMatches">0</span></h4></td>
						<td class="rowScore"><h2><span id="cooperMatches">0</span></h2>
					</tr>
					<tr>
						<td class="rowScore"><h3><span id="sansomGames">0</span></h3></td>
						<td class="rowDescription"><h4>Games<br/><span id="totalGames">0</span></h4></td>
						<td class="rowScore"><h3><span id="cooperGames">0</span></h3>
					</tr>
					<tr>
						<td class="rowScore"><h3><span id="sansomBridge">0</span></h3></td>
						<td class="rowDescription"><h4>Bridge<br/><span id="totalBridge">0</span></h4></td>
						<td class="rowScore"><h3><span id="cooperBridge">0</span></h3>
					</tr>
					<tr>
						<td class="rowScore"><h3><span id="sansomBriggs">0</span></h3></td>
						<td class="rowDescription"><h4>Briggs<br/><span id="totalBriggs">0</span></h4></td>
						<td class="rowScore"><h3><span id="cooperBriggs">0</span></h3>
					</tr>
				</tbody>
			</table>
		
			<div class="toggleYear">
				<button id="toggleYear" type="submit" class="btn" onclick="toggleYearDisplay();">Switch</button>			
			</div>
		</div>
		
		<!-- Matches table -->
		<table class="table" id="match-list">
			<thead>
				<tr><td>Date</td><td>Sansom</td><td>Cooper</td><td>Table</td></tr>
			</thead>
			<tbody id="match-rows">
			</tbody>
		</table>
		<button type="submit" class="btn" onclick="toggleRows();"><span id="expand" class="glyphicon glyphicon-menu-down"></button>
	</div>
	
	<!-- Trophies Area -->
	<div class="container-fluid" id="trophy-view">

		<div>
			<div class="page-header">
				<h1>Sansom Trophies</h1>
			</div>
			<div class="page-header"><h2>All Time</h2>
				<div class="container"><div id="sansom-trophies-alltime"></div></div>
			</div>
			<div class="page-header"><h2>Championship Trophies</h2>
				<div class="container"><div id="sansom-trophies-year"></div></div>		
			</div>
			<div class="page-header"><h2>Share</h2>
				<div class="container"><div id="sansom-trophies-share"></div></div>		
			</div>	
			<div class="page-header"><h2>Shaft</h2>
				<div class="container"><div id="sansom-trophies-shaft"></div></div>			
			</div>
		</div>
		
		<div>
			<div class="page-header">
				<h1>Cooper Trophies</h1>
			</div>
			<div class="page-header"><h2>All Time</h2>
				<div class="container"><div id="cooper-trophies-alltime"></div></div>
			</div>
			<div class="page-header"><h2>Championship Trophies</h2>
				<div class="container"><div id="cooper-trophies-year"></div></div>		
			</div>
			<div class="page-header"><h2>Share</h2>
				<div class="container"><div id="cooper-trophies-share"></div></div>		
			</div>	
			<div class="page-header"><h2>Shaft</h2>
				<div class="container"><div id="cooper-trophies-shaft"></div></div>			
			</div>		
		</div>
		
	</div>
	
	<!-- Scores area -->
	<div class="container-fluid" id="game-view">

		<div class="loader"></div>
		<div class="success"><span class="glyphicon glyphicon-ok"></div>
		<div class="failed"><span class="glyphicon glyphicon-exclamation"></div>
	
		<div id="error-box" class="alert alert-warning">
			<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
			<strong>Error</strong>&nbsp;<span id="error-text"></span>
		</div>
		<div class="topbox">
			<table class="table">
			<thead>
				<tr>
					<td><h3 id="Sansom-Title">Sansom</h3></td>
					<td><h3><i id="Flip-Button" class="fa fa-exchange" onclick="flip()"></i></h3></td>
					<td><h3 id="Cooper-Title">Cooper</h3></td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><h3><span id="sansomMatchScore">0 (0)</span></h3><h4><span id="sansomGameScore">0 (0)</span></h4></td>
					<td><h3><span id="match">0</span></h3><h4><span id="game">0</span></h4></td>
					<td><h3><span id="cooperMatchScore">0 (0)</span></h3><h4><span id="cooperGameScore">0 (0)</span></h4></td>
				</tr>
			</tbody>
		</table>
		</div>
		<hr/>
		<div id="card">
			<div id="score-front">
				<form class="form">
					<div class="row">
						<!-- Dan Sansom Scores -->
						<div class="col-xs-6 col-md-4">
							<h4>Dan S <span id="sansomFlair"></h4>
											
							<div class="score" id="A">
								<div class="label">Score</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>
								<input class="display" readonly></input>
							</div>
							<div class="score" id="D">
								<div class="label">Bridge</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
								<input class="display" readonly></input>
							</div>
							<div class="score" id="G">
								<div class="label">Briggs</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
								<input class="display" readonly></input>
							</div>
						</div>
						<!-- Dan Cooper Scores -->
						<div class="col-xs-6 col-md-4">
							<h4>Dan C <span id="cooperFlair"></h4>
							<div class="score" id="B">
								<div class="label">Score</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
								<input class="display" readonly></input>
							</div>
							<div class="score" id="E">
								<div class="label">Bridge</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>					
								<input class="display" readonly></input>
							</div>
							<div class="score" id="H">
								<div class="label">Briggs</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>					
								<input class="display" readonly></input>
							</div>
						</div>
						<!-- Table Scores -->
						<div class="col-xs-6 col-md-4">
							<h4>Table</h4>
							<div class="score" id="C">
								<div class="label">Score</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
								<input class="display" readonly></input>
							</div>
							<div class="score" id="F">
								<div class="label">Bridge</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
								<input class="display" readonly></input>
							</div>
							<div class="score" id="I">
								<div class="label">Briggs</div>
								<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
								<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>			
								<input class="display" readonly></input>
							</div>
						</div>
						<div class="col-xs-6 col-md-4">
							<h4>Info</h4>
							<table class="infoTable">
								<tr><td class="infoType"><i class="fa fa-ban"></i></td><td><span id="BridgeTooFarNeeds"></span></td>
								<tr><td class="infoType"><i class="fa fa-link"></i></td><td><span id="BridgingTheGapNeeds"></span></td>
							</table>
						</div>
					</div>
					<hr/>
					<div>
						<h2>
							<i class="fa fa-hand-peace-o" onclick="PlayAudio('5_I_lied_Twice', this);"></i>&nbsp;
							<i class="fa fa-user" onclick="PlayAudio('6_Didnt_think_of_that', this);"></i>&nbsp;
							<i class="fa fa-hand-rock-o" onclick="PlayAudio('4_Share_or_Shaft', this);"></i>&nbsp;
							<i class="fa fa-heartbeat" onclick="PlayAudio('2_999', this);"></i>&nbsp;
							<i class="fa fa-umbrella" onclick="PlayAudio('3_Comeuppance', this);"></i>&nbsp;
							<i class="fa fa-bolt" onclick="PlayAudio('1_Danger', this);"></i>&nbsp;
							<i class="fa fa-question" onclick="PlayAudio('7_I_dont_know_jeff', this);"></i>&nbsp;
							<i class="fa fa-anchor" onclick="PlayAudio('8_Ill_stay', this);"></i>
						</h2>
					</div>		
				</form>	
			</div>
			<div id="score-back">
				<div class="timeline">
					<div class="line text-muted"></div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="container-fluid" id="chart-view">
		<div class="dropdown">
			<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			Charts
			<span class="caret"></span>
		  </button>
		  <ul id="Charts-Dropdown" class="dropdown-menu" aria-labelledby="dropdownMenu1"></ul>
		</div>
		<div class="dropdown">
			<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			Date Charts
			<span class="caret"></span>
		  </button>
		  <ul id="Charts-Dates-Dropdown" class="dropdown-menu" aria-labelledby="dropdownMenu1"></ul>
		</div>
		<div id="Charts"></div>
	</div>
	
	<div id="milestone" class="milestone">
		<h1 id="milestone-header"></h1>
		<h3 id="milestone-message"></h3>
		<img id="milestone-img" src="img/share.png"></img>
	</div>
	
	<!-- trophy template -->
	<script id="entry-template" type="text/x-handlebars-template">

	<div class="col-sm-6 col-md-4">
			<div class="plaque {{colour}}">
				<div class="trophy">
					{{#if count}}
					<div class="circle"><span>{{count}}</span></div>
					{{/if}}
					<i class="{{glyph}}"></i>
				</div>
				<div class="inscription">
					<h3>{{title}}</h3>
					<p>{{desc}}</p>
				</div>
			</div>
		  </div>

	</script>
	
	<script id="chart-template" type="text/x-handlebars-template">
		<h1>{{description}}</h1>
		<div class="row">
			<div class="col-lg-3">
			  <h2>Match Wins</h2>
				<div id="chart{{description}}Matches"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Game Wins</h2>
			  <div id="chart{{description}}Games"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Bridge Cards</h2>
			  <div id="chart{{description}}Bridge"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Briggsings</h2>
			  <div id="chart{{description}}Briggs"></div>
			</div>
		</div>
	</script>
	
	<script id="chart-template-full" type="text/x-handlebars-template">
		<h1>{{description}}</h1>
		<h2>Match Wins</h2>
		<div id="chart{{description}}Matches"></div>
			
		<h2>Game Wins</h2>
		<div id="chart{{description}}Games"></div>
			
		<h2>Bridge Cards</h2>
		<div id="chart{{description}}Bridge"></div>
		
		<h2>Briggsings</h2>
		<div id="chart{{description}}Briggs"></div>
	</script>
	
	
	<script id="timeline-template" type="text/x-handlebars-template">
	    <article class="panel {{Type}} panel-outline">
            <div class="panel-heading icon">
                <i class="fa {{Image}}" onclick="ToggleTimeLine();"></i>
            </div>
            <div class="panel-body">
				{{#if Latitude}}
					<div id="map-{{Date}}" style="height: 250px"></div>
				{{else}}
					<em>{{Date}}</em> {{Message}}
				{{/if}}
            </div>
        </article>
	</script>

	<!-- Javascript -->
	<!-- JQuery -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<!-- Bootstrap -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.34.7/js/bootstrap-dialog.min.js"></script>
	<!-- Handlebars for templating -->
	<script src="https://cdn.jsdelivr.net/handlebarsjs/4.0.5/handlebars.min.js"></script>
	<!-- C3 for charts -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
	<!-- Seeded random number generator -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.2/seedrandom.min.js"></script>
	<!-- Leaflet for maps -->
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<!-- Main JS -->
	<script src="js/trophies.js"></script>
	<script src="js/scores.js"></script>
	<script src="js/code.js"></script>
	<script src="js/charts.js"></script>
</body>
</html>

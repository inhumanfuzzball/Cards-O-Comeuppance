<!DOCTYPE html>
<html lang="en">
<head>
	<title>Cards o' Comeuppance</title>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
	<!-- c3 -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css" rel="stylesheet" />
	<!-- Main CSS -->
	<link rel="stylesheet" href="css/cu.css">
	<link rel="stylesheet" href="css/trophies.css">
	<!-- Fonts -->
	<!-- font collection: https://www.google.com/fonts#UsePlace:use/Collection:Black+Ops+One|Audiowide|Slabo+27px|Lobster|Patrick+Hand|Gochi+Hand -->
	<link href='https://fonts.googleapis.com/css?family=Black+Ops+One|Audiowide|Slabo+27px|Lobster|Patrick+Hand|Gochi+Hand' rel='stylesheet' type='text/css'>
</head>
<body>
	<!-- Navigation bar -->
	<nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        <a class="navbar-brand" href="javascript:getMatches();">Cards o' Comeuppance</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
				<li data-toggle="collapse" data-target=".navbar-collapse" class="active"><a href="javascript:getMatches();">Matches</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:addGame();">New</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:showTrophies();">Trophies</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:showCharts();">Charts</a></li>
				<li data-toggle="collapse" data-target=".navbar-collapse"><a href="javascript:refresh();">Refresh</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
	
	<!-- Loading area -->
	<div class="loading">
		<div class="large-loader"></div>
	</div>
	
	<div class="container-fluid" id="match-view">
		
		<div class="jumbotron">
			<h1><span id="scoresHeader">Season Scores</span></h1>
			<table class="table">
				<thead>
					<tr>
						<td class="rowScore"><h2>Sansom</h2></td>
						<td class="rowDescription"></td>
						<td class="rowScore"><h2>Cooper</td></h2>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="rowScore"><h2><span id="sansomMatches">0</span></h2></td>
						<td class="rowDescription"><h4>Matches<br/><span id="totalMatches">0</span></h4></td>
						<td class="rowScore"><h2><span id="cooperMatches">0</span></h2>
					</tr>
					<tr>
						<td class="rowScore"><h3><span id="sansomGames">0</span></h3></td>
						<td class="rowDescription"><h4>Games<br/><span id="totalGames">0</span></h4></td>
						<td class="rowScore"><h3><span id="cooperGames">0</span></h3>
					</tr>
					<tr>
						<td class="rowScore"><h4><span id="sansomBridge">0</span></h4></td>
						<td class="rowDescription"><h4>Bridge<br/><span id="totalBridge">0</span></h4></td>
						<td class="rowScore"><h4><span id="cooperBridge">0</span></h4>
					</tr>
					<tr>
						<td class="rowScore"><h4><span id="sansomBriggs">0</span></h4></td>
						<td class="rowDescription"><h4>Briggs<br/><span id="totalBriggs">0</span></h4></td>
						<td class="rowScore"><h4><span id="cooperBriggs">0</span></h4>
					</tr>
				</tbody>
			</table>
		
			<div class="toggleYear">
				<button id="toggleYear" type="submit" class="btn" onclick="toggleYearDisplay();">Switch</button>			
			</div>
		</div>
		
		<!-- Matches table -->
		<table class="table" id="match-list">
			<thead>
				<tr><td>Date</td><td>Sansom</td><td>Cooper</td><td>Table</td></tr>
			</thead>
			<tbody id="match-rows">
			</tbody>
		</table>
		<button type="submit" class="btn" onclick="toggleRows();"><span id="expand" class="glyphicon glyphicon-menu-down"></button>
		
		<!-- Statistics area -->
		<h2>Statistics</h2>
		<div class="row">
			<div class="col-md-2">
				<p>Sansom Match Wins: <span id="sansom-win"></span></p>
			</div>
			<div class="col-md-2">
				<p>Cooper Match Wins: <span id="cooper-win"></span></p>
			</div>
			<div class="col-md-2">
				<p>Table Game Wins: <span id="table-win"></span></p>
			</div>
			<div class="col-md-2">
				<p>Draws: <span id="draws"></span></p>
			</div>
			<div class="col-md-2">
				<p>Sansom Game Wins: <span id="sansom-game-win"></span></p>
			</div>
			<div class="col-md-2">
				<p>Cooper Game Wins: <span id="cooper-game-win"></span></p>
			</div>
		</div>
		<div class="row">
			<div class="col-md-2">
				<p>Table Game Wins: <span id="table-game-win"></span></p>
			</div>
			<div class="col-md-2">
				<p>Sansom Bridge Cards: <span id="sansom-bridge"></span></p>
			</div>
			<div class="col-md-2">
				<p>Cooper Bridge Cards: <span id="cooper-bridge"></span></p>
			</div>
			<div class="col-md-2">
				<p>Table Bridge Cards: <span id="table-bridge"></span></p>
			</div>
			<div class="col-md-2">
				<p>Sansom Briggsings: <span id="sansom-briggs"></span></p>
			</div>
			<div class="col-md-2">
				<p>Cooper Briggsings: <span id="cooper-briggs"></span></p>
			</div>
		</div>
		<div class="row">
			<div class="col-md-2">
				<p>Table Briggsings: <span id="table-briggs"></span></p>
			</div>
			<div class="col-md-2">
				<p>Games Played: <span id="games-played"></span></p>
			</div>
			<div class="col-md-2">
				<p>Matches Played: <span id="matches-played"></span></p>
			</div>
		</div>
	</div>
	
	<!-- Trophies Area -->
	<div class="container-fluid" id="trophy-view">

		<div>
			<div class="page-header">
				<h1>Sansom Trophies</h1>
			</div>
			<div class="page-header"><h2>All Time</h2>
				<div class="container"><div id="sansom-trophies-alltime"></div></div>
			</div>
			<div class="page-header"><h2>Championship Trophies</h2>
				<div class="container"><div id="sansom-trophies-year"></div></div>		
			</div>
			<div class="page-header"><h2>Share</h2>
				<div class="container"><div id="sansom-trophies-share"></div></div>		
			</div>	
			<div class="page-header"><h2>Shaft</h2>
				<div class="container"><div id="sansom-trophies-shaft"></div></div>			
			</div>
		</div>
		
		<div>
			<div class="page-header">
				<h1>Cooper Trophies</h1>
			</div>
			<div class="page-header"><h2>All Time</h2>
				<div class="container"><div id="cooper-trophies-alltime"></div></div>
			</div>
			<div class="page-header"><h2>Championship Trophies</h2>
				<div class="container"><div id="cooper-trophies-year"></div></div>		
			</div>
			<div class="page-header"><h2>Share</h2>
				<div class="container"><div id="cooper-trophies-share"></div></div>		
			</div>	
			<div class="page-header"><h2>Shaft</h2>
				<div class="container"><div id="cooper-trophies-shaft"></div></div>			
			</div>		
		</div>
		
	</div>
	
	<!-- Scores area -->
	<div class="container-fluid" id="game-view">
		
		<div class="loader"></div>
		<div class="success"><span class="glyphicon glyphicon-ok"></div>
		<div class="failed"><span class="glyphicon glyphicon-exclamation"></div>
	
		<div id="error-box" class="alert alert-warning">
			<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
			<strong>Error</strong>&nbsp;<span id="error-text"></span>
		</div>
		<div class="topbox">
			<table class="table">
			<thead>
				<tr>
					<td><h3>Sansom</h3></td>
					<td><h3>&nbsp;</h3></td>
					<td><h3>Cooper</h3></td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><h3><span id="sansomMatchScore">0 (0)</span></h3><h4><span id="sansomGameScore">0 (0)</span></h4></td>
					<td><h3><span id="match">0</span></h3><h4><span id="game">0</span></h4></td>
					<td><h3><span id="cooperMatchScore">0 (0)</span></h3><h4><span id="cooperGameScore">0 (0)</span></h4></td>
				</tr>
			</tbody>
		</table>
		</div>
		<form class="form">
			<div class="row">
				<!-- Dan Sansom Scores -->
				<div class="col-xs-6 col-md-4">
					<h3>Dan S</h3>
									
					<div class="score" id="A">
						<div class="label">Score</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>
						<input class="display" readonly></input>
					</div>
					<div class="score" id="D">
						<div class="label">Bridge</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
						<input class="display" readonly></input>
					</div>
					<div class="score" id="G">
						<div class="label">Briggs</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
						<input class="display" readonly></input>
					</div>
				</div>
				<!-- Dan Cooper Scores -->
				<div class="col-xs-6 col-md-4">
					<h3>Dan C</h3>
					<div class="score" id="B">
						<div class="label">Score</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
						<input class="display" readonly></input>
					</div>
					<div class="score" id="E">
						<div class="label">Bridge</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>					
						<input class="display" readonly></input>
					</div>
					<div class="score" id="H">
						<div class="label">Briggs</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>					
						<input class="display" readonly></input>
					</div>
				</div>
				<!-- Table Scores -->
				<div class="col-xs-6 col-md-4">
					<h3>Table</h3>
					<div class="score" id="C">
						<div class="label">Score</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
						<input class="display" readonly></input>
					</div>
					<div class="score" id="F">
						<div class="label">Bridge</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>				
						<input class="display" readonly></input>
					</div>
					<div class="score" id="I">
						<div class="label">Briggs</div>
						<button class="sub" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-minus"></span></button>						
						<button class="add" type="button" onclick="pushScore(this);"><span class="glyphicon glyphicon-plus"></span></button>			
						<input class="display" readonly></input>
					</div>
				</div>
			</div>
		</form>	
	</div>
	
	<div class="container-fluid" id="chart-view">
		<h1>Scores</h1>
		<div class="row">
			<div class="col-lg-3">
			  <h2>Match Wins</h2>
				<div id="chartMatches"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Game Wins</h2>
			  <div id="chartGames"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Bridge Cards</h2>
			  <div id="chartBridge"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Briggsings</h2>
			  <div id="chartBriggs"></div>
			</div>
		</div>
			
		<h1>Current Season</h1>
		<div class="row">
			<div class="col-lg-3">
			  <h2>Match Wins</h2>
				<div id="chartYearMatches"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Game Wins</h2>
			  <div id="chartYearGames"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Bridge Cards</h2>
			  <div id="chartYearBridge"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Briggsings</h2>
			  <div id="chartYearBriggs"></div>
			</div>
		</div>
		
		<h1>Pseudo Matches</h1>
		<div class="row">
			<div class="col-lg-3">
			  <h2>Briggsing Match Wins</h2>
				<div id="chartPseudoBriggs"></div>
			</div>
			<div class="col-lg-3">
			  <h2>Bridge Card Match Wins</h2>
			  <div id="chartPseudoBridge"></div>
			</div>
		</div>
		
		<h1>Games</h1>
		<div id="chartGamesBar"></div>
		
		<h1>Games Wins vs. Time</h1>
		<div id="chartCumulativeGames"></div>
		
		<h1>Match Wins vs. Time</h1>
		<div id="chartCumulativeMatches"></div>
	
		<h1>Bridge Cards vs. Time</h1>
		<div id="chartCumulativeBridge"></div>
		
		<h1>Briggsings vs. Time</h1>
		<div id="chartCumulativeBriggs"></div>
	</div>
	
	<!-- trophy template -->
	<script id="entry-template" type="text/x-handlebars-template">

	<div class="col-sm-6 col-md-4">
			<div class="plaque {{colour}}">
				<div class="trophy">
					{{#if count}}
					<div class="circle"><span>{{count}}</span></div>
					{{/if}}
					<i class="{{glyph}}"></i>
				</div>
				<div class="inscription">
					<h3>{{title}}</h3>
					<p>{{desc}}</p>
				</div>
			</div>
		  </div>

	</script>
	
	<!-- Java script -->
	<!-- JQuery -->
	<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<!-- Bootstrap -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<!-- Handlebars for templating -->
	<script src="https://cdn.jsdelivr.net/handlebarsjs/4.0.5/handlebars.min.js"></script>
	<!-- C3 for charts -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
	<!-- Main JS -->
	<script src="js/trophies.js"></script>
	<script src="js/code.js"></script>
	<script src="js/charts.js"></script>
</body>
</html>
